<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Learning Tracker</title>

<link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family: Arial, Helvetica, sans-serif;
}

body{
  min-height:100vh;
  background:url("bg_img1.avif") no-repeat center center/cover;
  color:white;
}


.overlay{
  min-height:100vh;
  background:rgba(0,0,0,0.7);
  display:flex;
  flex-direction:column;
}

/* ---------- NAVBAR ---------- */
.navbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px 40px;
  background:rgba(0,0,0,0.6);
}

.nav-left{
  display:flex;
  align-items:center;
  gap:10px;
}

.nav-left i{
  font-size:26px;
  color:#22c55e;
}

.site-name{
  font-size:22px;
  font-weight:bold;
}

.nav-center{
  display:flex;
  gap:30px;
}

.nav-center a{
  color:white;
  text-decoration:none;
}

.nav-right{
  display:flex;
  align-items:center;
  gap:20px;
}

.profile-pic{
  width:42px;
  height:42px;
  border-radius:50%;
  background:#22c55e;
  display:flex;
  justify-content:center;
  align-items:center;
  cursor:pointer;
  overflow:hidden;
}

.profile-pic img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.logout-btn{
  padding:8px 14px;
  border:none;
  border-radius:8px;
  background:#ef4444;
  color:white;
  cursor:pointer;
}

/* ---------- MAIN ---------- */
.main-content{
  flex:1;
  display:flex;
  justify-content:center;
  align-items:center;
}

.description-box{
  max-width:850px;
  background:rgba(0,0,0,0.6);
  padding:40px;
  border-radius:16px;
  text-align:center;
}

/* ---------- PROFILE MODAL ---------- */
#profileModal{
  display:none;
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  background:#020617;
  width:360px;
  padding:25px;
  border-radius:18px;
  text-align:center;
  box-shadow:0 0 30px black;
  z-index:1000;
}

.profile-image{
  width:100px;
  height:100px;
  border-radius:50%;
  background:#22c55e;
  margin:0 auto 15px;
  overflow:hidden;
}

.profile-image img{
  width:100%;
  height:100%;
  object-fit:cover;
}

#profileModal input, textarea{
  width:100%;
  padding:10px;
  margin:8px 0;
  border-radius:10px;
  border:none;
}

#profileModal input[readonly]{
  background:#1e293b;
  color:#cbd5f5;
}

#profileModal button{
  width:100%;
  padding:10px;
  margin-top:10px;
  border:none;
  border-radius:20px;
  cursor:pointer;
}

.save-btn{ background:#22c55e; }
.close-btn{ background:#334155; color:white; }

footer{
  background:rgba(0,0,0,0.6);
  text-align:center;
  padding:15px;
  font-size:14px;
}
</style>
</head>

<body>

<div class="overlay">

<!-- NAVBAR -->
<div class="navbar">
  <div class="nav-left">
    <i class="fa-solid fa-graduation-cap"></i>
    <div class="site-name">Learning Tracker</div>
  </div>

  <div class="nav-center">
    <a href="masterpage.html">Home</a>
    <a href="skills.html">Skills</a>
    <a href="progress.html">Progress</a>
    <a href="tasks.html">Tasks</a>
    <a href="settings.html">Settings</a>
  </div>

  <div class="nav-right">
    <div class="profile-pic" onclick="openProfile()">
      <img id="navProfileImg" style="display:none">
      <i id="navProfileIcon" class="fa-solid fa-user"></i>
    </div>
    <button class="logout-btn" onclick="logout()">Logout</button>
  </div>
</div>

<!-- MAIN -->
<div class="main-content">
  <div class="description-box">
    <h2>Track Your Learning With Clarity</h2>
    <p>
      This platform helps you track skills, topics, and understanding levels.
      Focus on consistency, clarity, and real progress instead of pressure.
    </p>
  </div>
</div>

<!-- PROFILE MODAL -->
<div id="profileModal">
  <h3>My Profile</h3>

  <div class="profile-image">
    <img id="profileImg">
  </div>

  <input type="file" accept="image/*" onchange="uploadImage(event)">

  <input id="pname" readonly>
  <input id="pemail" readonly>

  <textarea id="phobbies" placeholder="Hobbies (e.g., Coding, Music, Reading)"></textarea>

  <button class="save-btn" onclick="saveProfile()">Save</button>
  <button class="close-btn" onclick="closeProfile()">Close</button>
</div>

<footer>
  Contact: yourmail@gmail.com | LinkedIn  
</footer>
</div>

<script>

/* ---------- PAGE PROTECTION ---------- */
window.onload = () => {
  const name = localStorage.getItem("name");
  const email = localStorage.getItem("email");

  if(!name || !email){
    window.location.href = "frontpage.html";
  }

  // Load profile image if exists
  const img = localStorage.getItem("profileImg");
  if(img){
    document.getElementById("profileImg").src = img;
    document.getElementById("navProfileImg").src = img;
    document.getElementById("navProfileImg").style.display="block";
    document.getElementById("navProfileIcon").style.display="none";
  }
};

/* ---------- PROFILE ---------- */
function openProfile(){
  document.getElementById("profileModal").style.display="block";
  pname.value = localStorage.getItem("name");
  pemail.value = localStorage.getItem("email");
  phobbies.value = localStorage.getItem("hobbies") || "";
}

function closeProfile(){
  document.getElementById("profileModal").style.display="none";
}

function saveProfile(){
  localStorage.setItem("hobbies", phobbies.value);
  alert("Profile saved");
}

/* ---------- IMAGE UPLOAD ---------- */
function uploadImage(event){
  const reader = new FileReader();
  reader.onload = () => {
    localStorage.setItem("profileImg", reader.result);
    document.getElementById("profileImg").src = reader.result;
    document.getElementById("navProfileImg").src = reader.result;
    document.getElementById("navProfileImg").style.display="block";
    document.getElementById("navProfileIcon").style.display="none";
  };
  reader.readAsDataURL(event.target.files[0]);
}

/* ---------- LOGOUT ---------- */
function logout(){
  localStorage.clear();
  window.location.href="frontpage.html";
}
</script>

</body>
</html>
